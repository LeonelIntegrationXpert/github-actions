<?xml version="1.0" encoding="UTF-8"?>
<!--
===============================================================================
  ‚öôÔ∏è MuleSoft Settings.xml
===============================================================================
  üìå Projeto   : github-actions
  ‚úçÔ∏è  Autor     : Leonel Dorneles Porto
  üìß Email     : leoneldornelesporto@outlook.com.br
  ‚òéÔ∏è  Telefone : +55 53 99180-4869
===============================================================================
  üìÑ Descri√ß√£o:
    - üîê Define as credenciais para se conectar ao Anypoint Exchange (via <servers>).
    - üåê Cria perfis (profiles) para m√∫ltiplos ambientes (sandbox, dev, qa, prod),
      sobrepondo apenas propriedades espec√≠ficas (ex.: <env>, <region>, <cloudhub.*>).
    - üè¢ Pode incluir ID de organiza√ß√£o MuleSoft para compor URL privada do Exchange.
===============================================================================
  üîó Refer√™ncias:
    - üóÇ Perfis do Maven: https://maven.apache.org/settings.html
    - üì¶ Mule Maven Plugin: https://docs.mulesoft.com/mule-runtime/latest/mule-maven-plugin
    - üîë Connected App Scopes: https://help.salesforce.com/s/articleView?id=001119708&type=1
===============================================================================
-->

<settings>

  <!-- 
    ========================================================
    üß∞ Grupos de plugins 
      Necess√°rio para o Maven reconhecer plugins Mule (ex.: Mule Maven Plugin).
    ========================================================
  -->
  <pluginGroups>
    <pluginGroup>org.mule.tools</pluginGroup>
  </pluginGroups>

  <!-- 
    ========================================================
    üîê Servidores e credenciais para reposit√≥rios do Maven
      - ID deve coincidir com o <serverId> ou <id> definido no POM (pom.xml).
      - Uso t√≠pico em <distributionManagement> e <repositories>.
    ========================================================
  -->
  <servers>
    <!-- 
      üìù Conex√£o ao reposit√≥rio "Repository" 
         (id deve bater com <repository> ou <serverId> no POM)
      üîë Exemplo de concatena√ß√£o: client.id~?~client.secret
    -->
    <server>
      <id>Repository</id>
      <username>~~~Client~~~</username>
      <password>${client.id}~?~${client.secret}</password>
    </server>

    <!-- 
      üîó Server para baixar do Exchange (anypoint-exchange-v3)
         Alinhar <id> com o <repository> do POM.
    -->
    <server>
      <id>anypoint-exchange-v3</id>
      <username>~~~Client~~~</username>
      <password>${client.id}~?~${client.secret}</password>
    </server>
  </servers>

  <!-- 
    ========================================================
    üåê Defini√ß√£o de Perfis 
      - Agrupamos propriedades em perfis para diferentes ambientes (sandbox, dev, qa, prod).
      - Um perfil "base" com activeByDefault fornece valores iniciais sem warnings.
    ========================================================
  -->
  <profiles>

    <!-- 
      ================================================
      üîó Profile Base (Padr√£o)
        - Ativado por padr√£o (activeByDefault).
        - Cont√©m propriedades gerais e que valem 
          quando nenhum outro profile sobrescrever.
      ================================================
    -->
    <profile>
      <id>base</id>
      <activation>
        <activeByDefault>true</activeByDefault>
      </activation>
      <properties>
        <!-- üåé Regi√£o padr√£o do CloudHub -->
        <region>Cloudhub-US-East-2</region>

        <!-- ‚öôÔ∏è Recursos padr√£o -->
        <cloudhub.vcores>0.1</cloudhub.vcores>
        <cloudhub.replicas>1</cloudhub.replicas>

        <!-- üöÄ Canal de release (EDGE, LTS, etc.) -->
        <releaseChannel>EDGE</releaseChannel>

        <!-- üêò Vers√£o do Runtime Mule -->
        <app.runtime>4.9.2</app.runtime>

        <!-- ‚òïÔ∏è Vers√£o do Java Runtime -->
        <java.version>17</java.version>
      </properties>
    </profile>

    <!-- 
      ================================================
      üíª Profile 1: dev
        - Override de <env> para "dev".
        - Exemplifica sobrescrita de releaseChannel, 
          runtime e Java version, 
          caso queira ambiente isolado de testes.
      ================================================
    -->
    <profile>
      <id>dev</id>
      <properties>
        <env>dev</env>
        <releaseChannel>LTS</releaseChannel>
        <app.runtime>4.6.14</app.runtime>
        <java.version>8</java.version>
      </properties>
    </profile>

    <!-- 
      ================================================
      üõ† Profile 2: qa
        - Override de <env> para "qa".
      ================================================
    -->
    <profile>
      <id>qa</id>
      <properties>
        <env>qa</env>
      </properties>
    </profile>

    <!-- 
      ================================================
      üöÄ Profile 3: prod
        - Override de <env> para "prod".
      ================================================
    -->
    <profile>
      <id>prod</id>
      <properties>
        <env>prod</env>
      </properties>
    </profile>

  </profiles>

  <!-- 
    ========================================================
    üîß Ativa automaticamente o perfil "dev"
      - O "base" j√° est√° ativo por padr√£o (activeByDefault).
      - O "dev" ser√° ativo em conjunto, 
        sobrepondo somente <env> = dev ou outra propriedade.
    ========================================================
  -->
  <activeProfiles>
    <activeProfile>prod</activeProfile>
  </activeProfiles>

</settings>