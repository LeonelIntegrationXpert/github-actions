<?xml version="1.0" encoding="UTF-8"?>
<settings>

  <!--
    =============================================================================
     âš™ï¸ MuleSoft Settings.xml
    =============================================================================
     ðŸ“Œ Projeto   : github-actions
     âœï¸  Autor     : Leonel Dorneles Porto
     ðŸ“§ Email     : leoneldornelesporto@outlook.com.br
     â˜Žï¸  Telefone  : +55 53 99180-4869
    =============================================================================
     ðŸ“„ DescriÃ§Ã£o :
       - ðŸ” Define as credenciais para se conectar ao Anypoint Exchange (via 'servers').
       - ðŸŒ Cria perfis (profiles) distintos para ambientes (sandbox, dev, qa, prod),
         sobrescrevendo apenas propriedades essenciais (<env>, <region>, <cloudhub.*>, etc.).
       - ðŸ¢ Inclui o ID da organizaÃ§Ã£o MuleSoft para compor a URL privada do Exchange.
    =============================================================================
     ðŸ”— ReferÃªncias:
       - ðŸ—‚ Perfis do Maven: https://maven.apache.org/settings.html
       - ðŸ“¦ Mule Maven Plugin: https://docs.mulesoft.com/mule-runtime/latest/mule-maven-plugin
       - ðŸ”‘ Connected App Scopes: https://help.salesforce.com/s/articleView?id=001119708&type=1
    =============================================================================
  -->

  <!-- ======================================================== -->
  <!-- ðŸ§° Grupos de plugins (necessÃ¡rio para reconhecer Mule)   -->
  <!-- ======================================================== -->
  <pluginGroups>
    <pluginGroup>org.mule.tools</pluginGroup>
  </pluginGroups>

  <!-- ======================================================== -->
  <!-- ðŸ” Servidores e credenciais para repositÃ³rios do Maven   -->
  <!-- ======================================================== -->
  <servers>
    <!-- ðŸ“ O connected app deve conter as devidas permissÃµes (scopes).
         Ver: https://help.salesforce.com/s/articleView?id=001119708&type=1 -->
    <server>
      <id>Repository</id>
      <!-- ðŸ†” Este <id> deve coincidir com o <serverId> no pom.xml -->
      <username>~~~Client~~~</username>
      <!-- ðŸ”‘ Usamos concatenaÃ§Ã£o de client.id e client.secret: `id~?~secret` -->
      <password>${client.id}~?~${client.secret}</password>
    </server>

    <!-- ðŸ”— Server para baixar do Exchange (Repositories) -->
    <server>
      <id>anypoint-exchange-v3</id> <!-- ðŸ”— Precisa bater com o <repository> do pom.xml -->
      <username>~~~Client~~~</username> <!-- ðŸ†” Connected App Client ID -->
      <password>${client.id}~?~${client.secret}</password> <!-- ðŸ”‘ Connected App Client Secret -->
    </server>
  </servers>

  <!-- ======================================================== -->
  <!-- âš™ï¸ Propriedades padrÃ£o (podem ser sobrescritas pelos perfis) -->
  <!-- ======================================================== -->
  <properties>
    <!-- ðŸŒŽ RegiÃ£o padrÃ£o do CloudHub -->
    <region>Cloudhub-US-East-2</region>

    <!-- âš™ï¸ Recursos padrÃ£o -->
    <cloudhub.vcores>0.1</cloudhub.vcores>
    <cloudhub.replicas>1</cloudhub.replicas>

    <!-- ðŸš€ Canal de release -->
    <releaseChannel>EDGE</releaseChannel>

    <!-- ðŸ˜ VersÃ£o do Runtime Mule -->
    <app.runtime>4.9.2</app.runtime>

    <!-- â˜•ï¸ VersÃ£o do Java Runtime -->
    <java.version>17</java.version>
  </properties>

  <!-- ======================================================== -->
  <!-- ðŸŒ DefiniÃ§Ã£o de perfis para diferentes ambientes         -->
  <!-- ======================================================== -->
  <profiles>

    <!-- ============================================ -->
    <!-- ðŸ§ª Profile 1: sandbox                       -->
    <!-- ============================================ -->
    <profile>
      <id>sandbox</id>
      <properties>
        <!-- ðŸ§ª Ambiente Sandbox (exemplo com LTS) -->
        <env>Sandbox</env>
        <releaseChannel>LTS</releaseChannel>
        <app.runtime>4.6.14</app.runtime>
        <java.version>8</java.version>
      </properties>
    </profile>

    <!-- ============================================ -->
    <!-- ðŸ’» Profile 2: dev                           -->
    <!-- ============================================ -->
    <profile>
      <id>dev</id>
      <properties>
        <env>dev</env>
      </properties>
    </profile>

    <!-- ============================================ -->
    <!-- ðŸ›  Profile 3: qa                            -->
    <!-- ============================================ -->
    <profile>
      <id>qa</id>
      <properties>
        <env>qa</env>
      </properties>
    </profile>

    <!-- ============================================ -->
    <!-- ðŸš€ Profile 4: prod                          -->
    <!-- ============================================ -->
    <profile>
      <id>prod</id>
      <properties>
        <env>prod</env>
      </properties>
    </profile>

  </profiles>

  <!-- ======================================================== -->
  <!-- ðŸ”§ Ativa automaticamente o perfil 'sandbox'              -->
  <!-- (altere aqui se quiser outro como padrÃ£o)                -->
  <!-- ======================================================== -->
  <activeProfiles>
    <activeProfile>dev</activeProfile>
  </activeProfiles>

</settings>
